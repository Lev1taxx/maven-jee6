<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd">
	<bean id="ActorSystemFactory" class="akka.osgi.OsgiActorSystemFactory">
		<argument ref="blueprintBundleContext" />
	</bean>
	<bean id="ActorSystem" factory-method="createActorSystem"
		factory-ref="ActorSystemFactory">
		<argument type="java.lang.String">
			<null />
		</argument>
	</bean>
	<bean id="ServiceBusBean" class="net.trajano.servicebus.master.internal.AkkaServiceBus">
		<argument ref="ActorSystem" />
	</bean>
	<service ref="ServiceBusBean" interface="net.trajano.servicebus.master.ServiceBus" />
	<reference-list interface="net.trajano.servicebus.master.ActorProvider"
		availability="optional">
		<description>ActorProviders provide a facility to instantiate actors
			into the system.
		</description>
		<reference-listener bind-method="registerActorProvider"
			unbind-method="deregisterActorProvider" ref="ServiceBusBean" />
	</reference-list>
</blueprint>
